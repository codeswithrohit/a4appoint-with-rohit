"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/pretransaction";
exports.ids = ["pages/api/pretransaction"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "paytmchecksum":
/*!********************************!*\
  !*** external "paytmchecksum" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("paytmchecksum");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "(api)/./src/middleware/mongoose.js":
/*!************************************!*\
  !*** ./src/middleware/mongoose.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectDb = (handler)=>async (req, res)=>{\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState)) {\n            return handler(req, res);\n        }\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGO_URI);\n        return handler(req, res);\n    };\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbWlkZGxld2FyZS9tb25nb29zZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsU0FBUyxHQUFHQyxDQUFBQSxPQUFPLEdBQUksT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEdBQUc7UUFDM0MsSUFBSUosMkVBQWtDLEVBQUM7WUFDbkMsT0FBT0UsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsQ0FBQztTQUMzQjtRQUNELE1BQU1KLHVEQUFnQixDQUFDUSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDO1FBQzdDLE9BQU9SLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLENBQUMsQ0FBQztLQUM1QjtBQUVELGlFQUFlSCxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXltZW50Ly4vc3JjL21pZGRsZXdhcmUvbW9uZ29vc2UuanM/ZDcyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBjb25uZWN0RGIgPSBoYW5kbGVyID0+IGFzeW5jIChyZXEsIHJlcyk9PntcclxuICAgIGlmIChtb25nb29zZS5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlKXtcclxuICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcylcclxuICAgIH1cclxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJKVxyXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0RGI7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdERiIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvbm5lY3Rpb25zIiwicmVhZHlTdGF0ZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/middleware/mongoose.js\n");

/***/ }),

/***/ "(api)/./src/models/Hospital.js":
/*!********************************!*\
  !*** ./src/models/Hospital.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst HospitalSchema = new mongoose.Schema({\n    title: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    desc: {\n        type: String,\n        required: true\n    },\n    img: {\n        type: String,\n        required: true\n    },\n    profile: {\n        type: String,\n        required: true\n    },\n    service1: {\n        type: String,\n        required: true\n    },\n    service2: {\n        type: String,\n        required: true\n    },\n    service3: {\n        type: String,\n        required: true\n    },\n    service4: {\n        type: String,\n        required: true\n    },\n    service5: {\n        type: String,\n        required: true\n    },\n    company: {\n        type: String,\n        required: true\n    },\n    locationimg: {\n        type: String,\n        required: true\n    },\n    place: {\n        type: String,\n        required: true\n    },\n    location: {\n        type: String,\n        required: true\n    },\n    category: {\n        type: String,\n        required: true\n    },\n    date: {\n        type: String,\n        required: true\n    },\n    slot: {\n        type: String,\n        required: true\n    },\n    price: {\n        type: Number,\n        required: true\n    },\n    availableQty: {\n        type: Number,\n        required: true\n    }\n}, {\n    timestamps: true\n});\nmongoose.models = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose.model(\"Hospital\", HospitalSchema)); //export default mongoose.model.Hospital || mongoose.model(\"Hospital\", HospitalSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL0hvc3BpdGFsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsMEJBQVUsQ0FBQztBQUVwQyxNQUFNQyxjQUFjLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7SUFDdkNDLEtBQUssRUFBRTtRQUFDQyxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNyQ0MsSUFBSSxFQUFFO1FBQUNILElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtRQUFFRSxNQUFNLEVBQUUsSUFBSTtLQUFDO0lBQ2xEQyxJQUFJLEVBQUU7UUFBQ0wsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDcENJLEdBQUcsRUFBRTtRQUFDTixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNuQ0ssT0FBTyxFQUFFO1FBQUNQLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3ZDTSxRQUFRLEVBQUU7UUFBQ1IsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDeENPLFFBQVEsRUFBRTtRQUFDVCxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q1EsUUFBUSxFQUFFO1FBQUNWLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3hDUyxRQUFRLEVBQUU7UUFBQ1gsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDeENVLFFBQVEsRUFBRTtRQUFDWixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q1csT0FBTyxFQUFFO1FBQUNiLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3ZDWSxXQUFXLEVBQUU7UUFBQ2QsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDM0NhLEtBQUssRUFBRTtRQUFDZixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNyQ2MsUUFBUSxFQUFFO1FBQUNoQixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q2UsUUFBUSxFQUFFO1FBQUNqQixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q2dCLElBQUksRUFBRTtRQUFDbEIsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDcENpQixJQUFJLEVBQUU7UUFBQ25CLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3BDa0IsS0FBSyxFQUFFO1FBQUNwQixJQUFJLEVBQUVxQixNQUFNO1FBQUVuQixRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3JDb0IsWUFBWSxFQUFFO1FBQUN0QixJQUFJLEVBQUVxQixNQUFNO1FBQUVuQixRQUFRLEVBQUUsSUFBSTtLQUFDO0NBRS9DLEVBQUU7SUFBQ3FCLFVBQVUsRUFBRSxJQUFJO0NBQUMsQ0FBRTtBQUV2QjVCLFFBQVEsQ0FBQzZCLE1BQU0sR0FBRyxFQUFFO0FBQ3BCLGlFQUFlN0IsUUFBUSxDQUFDOEIsS0FBSyxDQUFDLFVBQVUsRUFBRTVCLGNBQWMsQ0FBQyxFQUFDLENBQzFELHVGQUF1RiIsInNvdXJjZXMiOlsid2VicGFjazovL3BheW1lbnQvLi9zcmMvbW9kZWxzL0hvc3BpdGFsLmpzPzNmMTgiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IEhvc3BpdGFsU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICB0aXRsZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgc2x1Zzoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZX0sXHJcbiAgICBkZXNjOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBpbWc6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHByb2ZpbGU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNlcnZpY2UxOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBzZXJ2aWNlMjoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgc2VydmljZTM6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNlcnZpY2U0OiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBzZXJ2aWNlNToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgY29tcGFueToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgbG9jYXRpb25pbWc6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHBsYWNlOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBsb2NhdGlvbjoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgY2F0ZWdvcnk6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGRhdGU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNsb3Q6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHByaWNlOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBhdmFpbGFibGVRdHk6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgXHJcbn0sIHt0aW1lc3RhbXBzOiB0cnVlfSApO1xyXG5cclxubW9uZ29vc2UubW9kZWxzID0ge31cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJIb3NwaXRhbFwiLCBIb3NwaXRhbFNjaGVtYSk7XHJcbi8vZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwuSG9zcGl0YWwgfHwgbW9uZ29vc2UubW9kZWwoXCJIb3NwaXRhbFwiLCBIb3NwaXRhbFNjaGVtYSk7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIkhvc3BpdGFsU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzbHVnIiwidW5pcXVlIiwiZGVzYyIsImltZyIsInByb2ZpbGUiLCJzZXJ2aWNlMSIsInNlcnZpY2UyIiwic2VydmljZTMiLCJzZXJ2aWNlNCIsInNlcnZpY2U1IiwiY29tcGFueSIsImxvY2F0aW9uaW1nIiwicGxhY2UiLCJsb2NhdGlvbiIsImNhdGVnb3J5IiwiZGF0ZSIsInNsb3QiLCJwcmljZSIsIk51bWJlciIsImF2YWlsYWJsZVF0eSIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/Hospital.js\n");

/***/ }),

/***/ "(api)/./src/models/Order.js":
/*!*****************************!*\
  !*** ./src/models/Order.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst OrderSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    phone: {\n        type: Number,\n        required: true\n    },\n    orderId: {\n        type: String,\n        required: true\n    },\n    paymentInfo: {\n        type: String,\n        default: \"\"\n    },\n    hospitals: {\n        type: Object,\n        required: true\n    },\n    address: {\n        type: String,\n        required: true\n    },\n    transactionid: {\n        type: String,\n        default: \"\"\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    aadharnumber: {\n        type: Number,\n        required: true\n    },\n    gender: {\n        type: String,\n        required: true\n    },\n    age: {\n        type: Number,\n        required: true\n    },\n    amount: {\n        type: Number,\n        required: true\n    },\n    status: {\n        type: String,\n        default: \"initiated\",\n        required: true\n    },\n    status: {\n        type: String,\n        default: \"Pending\",\n        required: true\n    }\n}, {\n    timestamps: true\n});\nmongoose.models = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose.model(\"Order\", OrderSchema)); //export default mongoose.model.Appointment || mongoose.model(\"Appointment\", AppointmentSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL09yZGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsMEJBQVUsQ0FBQztBQUVwQyxNQUFNQyxXQUFXLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7SUFDcENDLElBQUksRUFBRTtRQUFDQyxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNwQ0MsS0FBSyxFQUFFO1FBQUNILElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3JDRyxPQUFPLEVBQUU7UUFBQ0wsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDdkNJLFdBQVcsRUFBRTtRQUFDTixJQUFJLEVBQUVDLE1BQU07UUFBRU0sT0FBTyxFQUFDLEVBQUU7S0FBQztJQUN2Q0MsU0FBUyxFQUFFO1FBQUNSLElBQUksRUFBRVMsTUFBTTtRQUFFUCxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3pDUSxPQUFPLEVBQUU7UUFBQ1YsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBQyxJQUFJO0tBQUM7SUFDdENTLGFBQWEsRUFBRTtRQUFDWCxJQUFJLEVBQUVDLE1BQU07UUFBRU0sT0FBTyxFQUFDLEVBQUU7S0FBQztJQUN6Q0ssS0FBSyxFQUFFO1FBQUNaLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ3BDVyxZQUFZLEVBQUU7UUFBQ2IsSUFBSSxFQUFFSSxNQUFNO1FBQUVGLFFBQVEsRUFBQyxJQUFJO0tBQUM7SUFDM0NZLE1BQU0sRUFBRTtRQUFDZCxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFDLElBQUk7S0FBQztJQUNyQ2EsR0FBRyxFQUFFO1FBQUNmLElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ2xDYyxNQUFNLEVBQUU7UUFBQ2hCLElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ3JDZSxNQUFNLEVBQUM7UUFBQ2pCLElBQUksRUFBRUMsTUFBTTtRQUFFTSxPQUFPLEVBQUMsV0FBVztRQUFFTCxRQUFRLEVBQUMsSUFBSTtLQUFDO0lBR3pEZSxNQUFNLEVBQUU7UUFBQ2pCLElBQUksRUFBRUMsTUFBTTtRQUFFTSxPQUFPLEVBQUUsU0FBUztRQUFHTCxRQUFRLEVBQUMsSUFBSTtLQUFDO0NBQzdELEVBQUU7SUFBQ2dCLFVBQVUsRUFBRSxJQUFJO0NBQUMsQ0FBRTtBQUV2QnZCLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxFQUFFO0FBQ3BCLGlFQUFleEIsUUFBUSxDQUFDeUIsS0FBSyxDQUFDLE9BQU8sRUFBRXZCLFdBQVcsQ0FBQyxFQUFDLENBQ3BELGdHQUFnRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BheW1lbnQvLi9zcmMvbW9kZWxzL09yZGVyLmpzPzcyZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IE9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwaG9uZToge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgb3JkZXJJZDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcGF5bWVudEluZm86IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6Jyd9LFxyXG4gICAgaG9zcGl0YWxzOiB7dHlwZTogT2JqZWN0LCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBhZGRyZXNzOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRyYW5zYWN0aW9uaWQ6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6XCJcIn0sXHJcbiAgICBlbWFpbDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhYWRoYXJudW1iZXI6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZ2VuZGVyOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGFnZToge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhbW91bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdHVzOnt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6J2luaXRpYXRlZCcsIHJlcXVpcmVkOnRydWV9LCBcclxuICAgIFxyXG4gICAgXHJcbiAgICBzdGF0dXM6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdQZW5kaW5nJyAsIHJlcXVpcmVkOnRydWV9LFxyXG59LCB7dGltZXN0YW1wczogdHJ1ZX0gKTtcclxuXHJcbm1vbmdvb3NlLm1vZGVscyA9IHt9XHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiT3JkZXJcIiwgT3JkZXJTY2hlbWEpO1xyXG4vL2V4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsLkFwcG9pbnRtZW50IHx8IG1vbmdvb3NlLm1vZGVsKFwiQXBwb2ludG1lbnRcIiwgQXBwb2ludG1lbnRTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiT3JkZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicGhvbmUiLCJOdW1iZXIiLCJvcmRlcklkIiwicGF5bWVudEluZm8iLCJkZWZhdWx0IiwiaG9zcGl0YWxzIiwiT2JqZWN0IiwiYWRkcmVzcyIsInRyYW5zYWN0aW9uaWQiLCJlbWFpbCIsImFhZGhhcm51bWJlciIsImdlbmRlciIsImFnZSIsImFtb3VudCIsInN0YXR1cyIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/Order.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/pretransaction.js":
/*!*****************************************!*\
  !*** ./src/pages/api/pretransaction.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _models_Order__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/Order */ \"(api)/./src/models/Order.js\");\n/* harmony import */ var _models_Hospital__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/Hospital */ \"(api)/./src/models/Hospital.js\");\n/* harmony import */ var _middleware_mongoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../middleware/mongoose */ \"(api)/./src/middleware/mongoose.js\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst PaytmChecksum = __webpack_require__(/*! paytmchecksum */ \"paytmchecksum\");\n\n\n\nconst handler = async (req, res)=>{\n    if (req.method == \"POST\") {\n        // check if the cart is tampered with -- [Pending]\n        let hospital, sumTotal = 0;\n        let cart = req.body.cart;\n        if (req.body.subTotal <= 0) {\n            res.status(200).json({\n                succes: false,\n                \"error\": \"Doctor appointment Empty! Please build your Doctor appointment and try again!\",\n                cartClear: true\n            });\n            return;\n        }\n        for(let item in cart){\n            sumTotal += cart[item].price * cart[item].qty;\n            hospital = await _models_Hospital__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                slug: item\n            });\n            // check if the cart items are out of stock -- [Pending]\n            if (hospital.availableQty < cart[item].qty) {\n                res.status(200).json({\n                    succes: false,\n                    \"error\": \"Some Doctor appointment went no slots available. Please try again!\",\n                    cartClear: true\n                });\n            }\n            if (hospital.price != cart[item].price) {\n                res.status(200).json({\n                    succes: false,\n                    \"error\": \"The price of some Doctor appointment have changed. Please try again\",\n                    cartClear: true\n                });\n                return;\n            }\n        }\n        if (sumTotal !== req.body.subTotal) {\n            res.status(200).json({\n                succes: false,\n                \"error\": \"The price of some Doctor appointment have changed. Please try again\",\n                cartClear: true\n            });\n            return;\n        }\n        // check if the details are valid--[Pending]\n        if (req.body.phone.length !== 10 || !Number.isInteger(Number(req.body.phone))) {\n            res.status(200).json({\n                succes: false,\n                \"error\": \"Please enter your 10 digit phone number\",\n                cartClear: false\n            });\n            return;\n        }\n        if (req.body.aadharnumber.length !== 12 || !Number.isInteger(Number(req.body.aadharnumber))) {\n            res.status(200).json({\n                succes: false,\n                \"error\": \"Please enter your 12 digit Aadhar number\",\n                cartClear: false\n            });\n            return;\n        }\n        // Initiate an Order corresponding to htis order id -- [Pending]\n        let order = new _models_Order__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            name: req.body.name,\n            email: req.body.email,\n            orderId: req.body.oid,\n            address: req.body.address,\n            phone: req.body.phone,\n            aadharnumber: req.body.aadharnumber,\n            gender: req.body.gender,\n            age: req.body.age,\n            amount: req.body.subTotal,\n            hospitals: req.body.cart\n        });\n        await order.save();\n        var paytmParams = {};\n        paytmParams.body = {\n            \"requestType\": \"Payment\",\n            \"mid\": \"wVXSCe95488958258567\",\n            \"websiteName\": \"YOUR_WEBSITE_NAME\",\n            \"orderId\": req.body.oid,\n            \"callbackUrl\": `${\"http://localhost:3000\"}/api/posttransaction`,\n            \"txnAmount\": {\n                \"value\": req.body.subTotal,\n                \"currency\": \"INR\"\n            },\n            \"userInfo\": {\n                \"custId\": req.body.email\n            }\n        };\n        /*\r\n        * Generate checksum by parameters we have in body\r\n        * Find your Merchant Key in your Paytm Dashboard at https://dashboard.paytm.com/next/apikeys \r\n        */ const checksum = await PaytmChecksum.generateSignature(JSON.stringify(paytmParams.body), process.env.PAYTM_MKEY);\n        paytmParams.head = {\n            \"signature\": checksum\n        };\n        var post_data = JSON.stringify(paytmParams);\n        const requestAsync = async ()=>{\n            return new Promise((resolve, reject)=>{\n                var options = {\n                    /* for Staging */ //hostname: 'securegw-stage.paytm.in',\n                    /* for Production */ hostname: \"securegw.paytm.in\",\n                    port: 443,\n                    path: `/theia/api/v1/initiateTransaction?mid=${\"wVXSCe95488958258567\"}&orderId=${req.body.oid}`,\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Content-Length\": post_data.length\n                    }\n                };\n                var response = \"\";\n                var post_req = https.request(options, function(post_res) {\n                    post_res.on(\"data\", function(chunk) {\n                        response += chunk;\n                    });\n                    post_res.on(\"end\", function() {\n                        // console.log('Response: ', response);\n                        let ress = JSON.parse(response).body;\n                        ress.success = true;\n                        ress.clearCart = false;\n                        resolve(ress);\n                    });\n                });\n                post_req.write(post_data);\n                post_req.end();\n            });\n        };\n        let myr = await requestAsync();\n        res.status(200).json(myr);\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_mongoose__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3ByZXRyYW5zYWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxNQUFNQSxLQUFLLEdBQUdDLG1CQUFPLENBQUMsb0JBQU8sQ0FBQztBQUM5QixNQUFNQyxhQUFhLEdBQUdELG1CQUFPLENBQUMsb0NBQWUsQ0FBQztBQUNSO0FBQ007QUFDSztBQUlqRCxNQUFNSyxPQUFPLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEdBQUs7SUFDaEMsSUFBSUQsR0FBRyxDQUFDRSxNQUFNLElBQUksTUFBTSxFQUFFO1FBRXRCLGtEQUFrRDtRQUNsRCxJQUFJQyxRQUFRLEVBQUVDLFFBQVEsR0FBQyxDQUFDO1FBQ3hCLElBQUlDLElBQUksR0FBR0wsR0FBRyxDQUFDTSxJQUFJLENBQUNELElBQUk7UUFDeEIsSUFBR0wsR0FBRyxDQUFDTSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDLEVBQUM7WUFDdEJOLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQUNDLE1BQU0sRUFBRSxLQUFLO2dCQUFFLE9BQU8sRUFBRSwrRUFBK0U7Z0JBQUVDLFNBQVMsRUFBQyxJQUFJO2FBQUMsQ0FBQztZQUMvSSxPQUFNO1NBRVQ7UUFDRCxJQUFJLElBQUlDLElBQUksSUFBSVAsSUFBSSxDQUFDO1lBRWpCRCxRQUFRLElBQUlDLElBQUksQ0FBQ08sSUFBSSxDQUFDLENBQUNDLEtBQUssR0FBR1IsSUFBSSxDQUFDTyxJQUFJLENBQUMsQ0FBQ0UsR0FBRztZQUM3Q1gsUUFBUSxHQUFHLE1BQU1OLGdFQUFnQixDQUFDO2dCQUFDbUIsSUFBSSxFQUFFSixJQUFJO2FBQUMsQ0FBQztZQUMvQyx3REFBd0Q7WUFDeEQsSUFBR1QsUUFBUSxDQUFDYyxZQUFZLEdBQUdaLElBQUksQ0FBQ08sSUFBSSxDQUFDLENBQUNFLEdBQUcsRUFBQztnQkFDdENiLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxD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QUVILENBQUM7U0FDTDtRQUVELElBQUlXLEdBQUcsR0FBRyxNQUFNckI7UUFDaEI3QyxHQUFHLENBQUNPO0tBS1A7Q0FDSjtBQUVELGVBQWVWLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXltZW50Ly4vc3JjL3BhZ2VzL2FwaS9wcmV0cmFuc2FjdGlvbi5qcz9jYTdjIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcclxuY29uc3QgUGF5dG1DaGVja3N1bSA9IHJlcXVpcmUoJ3BheXRtY2hlY2tzdW0nKTtcclxuaW1wb3J0IE9yZGVyIGZyb20gXCIuLi8uLi9tb2RlbHMvT3JkZXJcIlxyXG5pbXBvcnQgSG9zcGl0YWwgZnJvbSBcIi4uLy4uL21vZGVscy9Ib3NwaXRhbFwiXHJcbmltcG9ydCBjb25uZWN0RGIgZnJvbSBcIi4uLy4uL21pZGRsZXdhcmUvbW9uZ29vc2VcIlxyXG5cclxuXHJcblxyXG5jb25zdCBoYW5kbGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PSAnUE9TVCcpIHtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGNhcnQgaXMgdGFtcGVyZWQgd2l0aCAtLSBbUGVuZGluZ11cclxuICAgICAgICBsZXQgaG9zcGl0YWwsIHN1bVRvdGFsPTA7XHJcbiAgICAgICAgbGV0IGNhcnQgPSByZXEuYm9keS5jYXJ0O1xyXG4gICAgICAgIGlmKHJlcS5ib2R5LnN1YlRvdGFsIDw9IDApe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7c3VjY2VzOiBmYWxzZSwgXCJlcnJvclwiOiBcIkRvY3RvciBhcHBvaW50bWVudCBFbXB0eSEgUGxlYXNlIGJ1aWxkIHlvdXIgRG9jdG9yIGFwcG9pbnRtZW50IGFuZCB0cnkgYWdhaW4hXCIsIGNhcnRDbGVhcjp0cnVlfSlcclxuICAgICAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGl0ZW0gaW4gY2FydCl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdW1Ub3RhbCArPSBjYXJ0W2l0ZW1dLnByaWNlICogY2FydFtpdGVtXS5xdHlcclxuICAgICAgICAgICAgaG9zcGl0YWwgPSBhd2FpdCBIb3NwaXRhbC5maW5kT25lKHtzbHVnOiBpdGVtfSlcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGNhcnQgaXRlbXMgYXJlIG91dCBvZiBzdG9jayAtLSBbUGVuZGluZ11cclxuICAgICAgICAgICAgaWYoaG9zcGl0YWwuYXZhaWxhYmxlUXR5IDwgY2FydFtpdGVtXS5xdHkpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3N1Y2NlczogZmFsc2UsIFwiZXJyb3JcIjogXCJTb21lIERvY3RvciBhcHBvaW50bWVudCB3ZW50IG5vIHNsb3RzIGF2YWlsYWJsZS4gUGxlYXNlIHRyeSBhZ2FpbiFcIiwgY2FydENsZWFyOnRydWV9KVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihob3NwaXRhbC5wcmljZSAhPSBjYXJ0W2l0ZW1dLnByaWNlKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdWNjZXM6IGZhbHNlLCBcImVycm9yXCI6IFwiVGhlIHByaWNlIG9mIHNvbWUgRG9jdG9yIGFwcG9pbnRtZW50IGhhdmUgY2hhbmdlZC4gUGxlYXNlIHRyeSBhZ2FpblwiLCBjYXJ0Q2xlYXI6dHJ1ZX0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzdW1Ub3RhbCAhPT0gcmVxLmJvZHkuc3ViVG90YWwpe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7c3VjY2VzOiBmYWxzZSwgXCJlcnJvclwiOiBcIlRoZSBwcmljZSBvZiBzb21lIERvY3RvciBhcHBvaW50bWVudCBoYXZlIGNoYW5nZWQuIFBsZWFzZSB0cnkgYWdhaW5cIiwgY2FydENsZWFyOnRydWV9KVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGRldGFpbHMgYXJlIHZhbGlkLS1bUGVuZGluZ11cclxuICAgICAgICBpZihyZXEuYm9keS5waG9uZS5sZW5ndGggIT09IDEwIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihyZXEuYm9keS5waG9uZSkpKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3N1Y2NlczogZmFsc2UsIFwiZXJyb3JcIjogXCJQbGVhc2UgZW50ZXIgeW91ciAxMCBkaWdpdCBwaG9uZSBudW1iZXJcIiwgY2FydENsZWFyOmZhbHNlfSlcclxuICAgICAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYocmVxLmJvZHkuYWFkaGFybnVtYmVyLmxlbmd0aCAhPT0gMTIgfHwgIU51bWJlci5pc0ludGVnZXIoTnVtYmVyKHJlcS5ib2R5LmFhZGhhcm51bWJlcikpKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3N1Y2NlczogZmFsc2UsIFwiZXJyb3JcIjogXCJQbGVhc2UgZW50ZXIgeW91ciAxMiBkaWdpdCBBYWRoYXIgbnVtYmVyXCIsIGNhcnRDbGVhcjpmYWxzZX0pXHJcbiAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEluaXRpYXRlIGFuIE9yZGVyIGNvcnJlc3BvbmRpbmcgdG8gaHRpcyBvcmRlciBpZCAtLSBbUGVuZGluZ11cclxuICAgICAgICBsZXQgb3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgICAgICAgICBuYW1lOnJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICAgICAgb3JkZXJJZDogcmVxLmJvZHkub2lkLFxyXG4gICAgICAgICAgICBhZGRyZXNzOiByZXEuYm9keS5hZGRyZXNzLFxyXG4gICAgICAgICAgICBwaG9uZTogcmVxLmJvZHkucGhvbmUsXHJcbiAgICAgICAgICAgIGFhZGhhcm51bWJlcjogcmVxLmJvZHkuYWFkaGFybnVtYmVyLFxyXG4gICAgICAgICAgICBnZW5kZXI6IHJlcS5ib2R5LmdlbmRlcixcclxuICAgICAgICAgICAgYWdlOiByZXEuYm9keS5hZ2UsXHJcbiAgICAgICAgICAgIGFtb3VudDogcmVxLmJvZHkuc3ViVG90YWwsXHJcbiAgICAgICAgICAgIGhvc3BpdGFsczogcmVxLmJvZHkuY2FydCxcclxuICAgICAgICB9KVxyXG4gICAgICAgIGF3YWl0IG9yZGVyLnNhdmUoKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgdmFyIHBheXRtUGFyYW1zID0ge307XHJcblxyXG4gICAgICAgIHBheXRtUGFyYW1zLmJvZHkgPSB7XHJcbiAgICAgICAgICAgIFwicmVxdWVzdFR5cGVcIjogXCJQYXltZW50XCIsXHJcbiAgICAgICAgICAgIFwibWlkXCI6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BBWVRNX01JRCxcclxuICAgICAgICAgICAgXCJ3ZWJzaXRlTmFtZVwiOiBcIllPVVJfV0VCU0lURV9OQU1FXCIsXHJcbiAgICAgICAgICAgIFwib3JkZXJJZFwiOiByZXEuYm9keS5vaWQsXHJcbiAgICAgICAgICAgIFwiY2FsbGJhY2tVcmxcIjogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSE9TVH0vYXBpL3Bvc3R0cmFuc2FjdGlvbmAsXHJcbiAgICAgICAgICAgIFwidHhuQW1vdW50XCI6IHtcclxuICAgICAgICAgICAgICAgIFwidmFsdWVcIjogcmVxLmJvZHkuc3ViVG90YWwsXHJcbiAgICAgICAgICAgICAgICBcImN1cnJlbmN5XCI6IFwiSU5SXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwidXNlckluZm9cIjoge1xyXG4gICAgICAgICAgICAgICAgXCJjdXN0SWRcIjogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIEdlbmVyYXRlIGNoZWNrc3VtIGJ5IHBhcmFtZXRlcnMgd2UgaGF2ZSBpbiBib2R5XHJcbiAgICAgICAgKiBGaW5kIHlvdXIgTWVyY2hhbnQgS2V5IGluIHlvdXIgUGF5dG0gRGFzaGJvYXJkIGF0IGh0dHBzOi8vZGFzaGJvYXJkLnBheXRtLmNvbS9uZXh0L2FwaWtleXMgXHJcbiAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBjaGVja3N1bSA9IGF3YWl0IFBheXRtQ2hlY2tzdW0uZ2VuZXJhdGVTaWduYXR1cmUoSlNPTi5zdHJpbmdpZnkocGF5dG1QYXJhbXMuYm9keSksIHByb2Nlc3MuZW52LlBBWVRNX01LRVkpXHJcblxyXG4gICAgICAgIHBheXRtUGFyYW1zLmhlYWQgPSB7XHJcbiAgICAgICAgICAgIFwic2lnbmF0dXJlXCI6IGNoZWNrc3VtXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHBvc3RfZGF0YSA9IEpTT04uc3RyaW5naWZ5KHBheXRtUGFyYW1zKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdEFzeW5jID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qIGZvciBTdGFnaW5nICovXHJcbiAgICAgICAgICAgICAgICAgICAgLy9ob3N0bmFtZTogJ3NlY3VyZWd3LXN0YWdlLnBheXRtLmluJyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyogZm9yIFByb2R1Y3Rpb24gKi9cclxuICAgICAgICAgICAgICAgICAgICBob3N0bmFtZTogJ3NlY3VyZWd3LnBheXRtLmluJyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogNDQzLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvdGhlaWEvYXBpL3YxL2luaXRpYXRlVHJhbnNhY3Rpb24/bWlkPSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUEFZVE1fTUlEfSZvcmRlcklkPSR7cmVxLmJvZHkub2lkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBwb3N0X2RhdGEubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc3RfcmVxID0gaHR0cHMucmVxdWVzdChvcHRpb25zLCBmdW5jdGlvbiAocG9zdF9yZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3N0X3Jlcy5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSArPSBjaHVuaztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF9yZXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNzID0gSlNPTi5wYXJzZShyZXNwb25zZSkuYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNzLnN1Y2Nlc3MgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3MuY2xlYXJDYXJ0ID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcG9zdF9yZXEud3JpdGUocG9zdF9kYXRhKTtcclxuICAgICAgICAgICAgICAgIHBvc3RfcmVxLmVuZCgpO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBteXIgPSBhd2FpdCByZXF1ZXN0QXN5bmMoKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKG15cilcclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REYihoYW5kbGVyKTsiXSwibmFtZXMiOlsiaHR0cHMiLCJyZXF1aXJlIiwiUGF5dG1DaGVja3N1bSIsIk9yZGVyIiwiSG9zcGl0YWwiLCJjb25uZWN0RGIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiaG9zcGl0YWwiLCJzdW1Ub3RhbCIsImNhcnQiLCJib2R5Iiwic3ViVG90YWwiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzIiwiY2FydENsZWFyIiwiaXRlbSIsInByaWNlIiwicXR5IiwiZmluZE9uZSIsInNsdWciLCJhdmFpbGFibGVRdHkiLCJwaG9uZSIsImxlbmd0aCIsIk51bWJlciIsImlzSW50ZWdlciIsImFhZGhhcm51bWJlciIsIm9yZGVyIiwibmFtZSIsImVtYWlsIiwib3JkZXJJZCIsIm9pZCIsImFkZHJlc3MiLCJnZW5kZXIiLCJhZ2UiLCJhbW91bnQiLCJob3NwaXRhbHMiLCJzYXZlIiwicGF5dG1QYXJhbXMiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfUEFZVE1fTUlEIiwiTkVYVF9QVUJMSUNfSE9TVCIsImNoZWNrc3VtIiwiZ2VuZXJhdGVTaWduYXR1cmUiLCJKU09OIiwic3RyaW5naWZ5IiwiUEFZVE1fTUtFWSIsImhlYWQiLCJwb3N0X2RhdGEiLCJyZXF1ZXN0QXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9wdGlvbnMiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRoIiwiaGVhZGVycyIsInJlc3BvbnNlIiwicG9zdF9yZXEiLCJyZXF1ZXN0IiwicG9zdF9yZXMiLCJvbiIsImNodW5rIiwicmVzcyIsInBhcnNlIiwic3VjY2VzcyIsImNsZWFyQ2FydCIsIndyaXRlIiwiZW5kIiwibXlyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/pretransaction.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/pretransaction.js"));
module.exports = __webpack_exports__;

})();