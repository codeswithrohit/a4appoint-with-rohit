"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/posttransaction";
exports.ids = ["pages/api/posttransaction"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "paytmchecksum":
/*!********************************!*\
  !*** external "paytmchecksum" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("paytmchecksum");

/***/ }),

/***/ "(api)/./src/middleware/mongoose.js":
/*!************************************!*\
  !*** ./src/middleware/mongoose.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectDb = (handler)=>async (req, res)=>{\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState)) {\n            return handler(req, res);\n        }\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGO_URI);\n        return handler(req, res);\n    };\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbWlkZGxld2FyZS9tb25nb29zZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsU0FBUyxHQUFHQyxDQUFBQSxPQUFPLEdBQUksT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEdBQUc7UUFDM0MsSUFBSUosMkVBQWtDLEVBQUM7WUFDbkMsT0FBT0UsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsQ0FBQztTQUMzQjtRQUNELE1BQU1KLHVEQUFnQixDQUFDUSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsU0FBUyxDQUFDO1FBQzdDLE9BQU9SLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLENBQUMsQ0FBQztLQUM1QjtBQUVELGlFQUFlSCxTQUFTLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wYXltZW50Ly4vc3JjL21pZGRsZXdhcmUvbW9uZ29vc2UuanM/ZDcyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBjb25uZWN0RGIgPSBoYW5kbGVyID0+IGFzeW5jIChyZXEsIHJlcyk9PntcclxuICAgIGlmIChtb25nb29zZS5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlKXtcclxuICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcylcclxuICAgIH1cclxuICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJKVxyXG4gICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0RGI7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdERiIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvbm5lY3Rpb25zIiwicmVhZHlTdGF0ZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/middleware/mongoose.js\n");

/***/ }),

/***/ "(api)/./src/models/Hospital.js":
/*!********************************!*\
  !*** ./src/models/Hospital.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst HospitalSchema = new mongoose.Schema({\n    title: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    desc: {\n        type: String,\n        required: true\n    },\n    img: {\n        type: String,\n        required: true\n    },\n    profile: {\n        type: String,\n        required: true\n    },\n    service1: {\n        type: String,\n        required: true\n    },\n    service2: {\n        type: String,\n        required: true\n    },\n    service3: {\n        type: String,\n        required: true\n    },\n    service4: {\n        type: String,\n        required: true\n    },\n    service5: {\n        type: String,\n        required: true\n    },\n    company: {\n        type: String,\n        required: true\n    },\n    locationimg: {\n        type: String,\n        required: true\n    },\n    place: {\n        type: String,\n        required: true\n    },\n    location: {\n        type: String,\n        required: true\n    },\n    category: {\n        type: String,\n        required: true\n    },\n    date: {\n        type: String,\n        required: true\n    },\n    slot: {\n        type: String,\n        required: true\n    },\n    price: {\n        type: Number,\n        required: true\n    },\n    availableQty: {\n        type: Number,\n        required: true\n    }\n}, {\n    timestamps: true\n});\nmongoose.models = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose.model(\"Hospital\", HospitalSchema)); //export default mongoose.model.Hospital || mongoose.model(\"Hospital\", HospitalSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL0hvc3BpdGFsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsMEJBQVUsQ0FBQztBQUVwQyxNQUFNQyxjQUFjLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7SUFDdkNDLEtBQUssRUFBRTtRQUFDQyxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNyQ0MsSUFBSSxFQUFFO1FBQUNILElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtRQUFFRSxNQUFNLEVBQUUsSUFBSTtLQUFDO0lBQ2xEQyxJQUFJLEVBQUU7UUFBQ0wsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDcENJLEdBQUcsRUFBRTtRQUFDTixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNuQ0ssT0FBTyxFQUFFO1FBQUNQLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3ZDTSxRQUFRLEVBQUU7UUFBQ1IsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDeENPLFFBQVEsRUFBRTtRQUFDVCxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q1EsUUFBUSxFQUFFO1FBQUNWLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3hDUyxRQUFRLEVBQUU7UUFBQ1gsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDeENVLFFBQVEsRUFBRTtRQUFDWixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q1csT0FBTyxFQUFFO1FBQUNiLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3ZDWSxXQUFXLEVBQUU7UUFBQ2QsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDM0NhLEtBQUssRUFBRTtRQUFDZixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNyQ2MsUUFBUSxFQUFFO1FBQUNoQixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q2UsUUFBUSxFQUFFO1FBQUNqQixJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUN4Q2dCLElBQUksRUFBRTtRQUFDbEIsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDcENpQixJQUFJLEVBQUU7UUFBQ25CLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3BDa0IsS0FBSyxFQUFFO1FBQUNwQixJQUFJLEVBQUVxQixNQUFNO1FBQUVuQixRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3JDb0IsWUFBWSxFQUFFO1FBQUN0QixJQUFJLEVBQUVxQixNQUFNO1FBQUVuQixRQUFRLEVBQUUsSUFBSTtLQUFDO0NBRS9DLEVBQUU7SUFBQ3FCLFVBQVUsRUFBRSxJQUFJO0NBQUMsQ0FBRTtBQUV2QjVCLFFBQVEsQ0FBQzZCLE1BQU0sR0FBRyxFQUFFO0FBQ3BCLGlFQUFlN0IsUUFBUSxDQUFDOEIsS0FBSyxDQUFDLFVBQVUsRUFBRTVCLGNBQWMsQ0FBQyxFQUFDLENBQzFELHVGQUF1RiIsInNvdXJjZXMiOlsid2VicGFjazovL3BheW1lbnQvLi9zcmMvbW9kZWxzL0hvc3BpdGFsLmpzPzNmMTgiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IEhvc3BpdGFsU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICB0aXRsZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgc2x1Zzoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZX0sXHJcbiAgICBkZXNjOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBpbWc6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHByb2ZpbGU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNlcnZpY2UxOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBzZXJ2aWNlMjoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgc2VydmljZTM6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNlcnZpY2U0OiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBzZXJ2aWNlNToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgY29tcGFueToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgbG9jYXRpb25pbWc6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHBsYWNlOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBsb2NhdGlvbjoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgY2F0ZWdvcnk6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGRhdGU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHNsb3Q6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHByaWNlOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBhdmFpbGFibGVRdHk6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgXHJcbn0sIHt0aW1lc3RhbXBzOiB0cnVlfSApO1xyXG5cclxubW9uZ29vc2UubW9kZWxzID0ge31cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJIb3NwaXRhbFwiLCBIb3NwaXRhbFNjaGVtYSk7XHJcbi8vZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwuSG9zcGl0YWwgfHwgbW9uZ29vc2UubW9kZWwoXCJIb3NwaXRhbFwiLCBIb3NwaXRhbFNjaGVtYSk7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIkhvc3BpdGFsU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzbHVnIiwidW5pcXVlIiwiZGVzYyIsImltZyIsInByb2ZpbGUiLCJzZXJ2aWNlMSIsInNlcnZpY2UyIiwic2VydmljZTMiLCJzZXJ2aWNlNCIsInNlcnZpY2U1IiwiY29tcGFueSIsImxvY2F0aW9uaW1nIiwicGxhY2UiLCJsb2NhdGlvbiIsImNhdGVnb3J5IiwiZGF0ZSIsInNsb3QiLCJwcmljZSIsIk51bWJlciIsImF2YWlsYWJsZVF0eSIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/Hospital.js\n");

/***/ }),

/***/ "(api)/./src/models/Order.js":
/*!*****************************!*\
  !*** ./src/models/Order.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst OrderSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    phone: {\n        type: Number,\n        required: true\n    },\n    orderId: {\n        type: String,\n        required: true\n    },\n    paymentInfo: {\n        type: String,\n        default: \"\"\n    },\n    hospitals: {\n        type: Object,\n        required: true\n    },\n    address: {\n        type: String,\n        required: true\n    },\n    transactionid: {\n        type: String,\n        default: \"\"\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    aadharnumber: {\n        type: Number,\n        required: true\n    },\n    gender: {\n        type: String,\n        required: true\n    },\n    age: {\n        type: Number,\n        required: true\n    },\n    amount: {\n        type: Number,\n        required: true\n    },\n    status: {\n        type: String,\n        default: \"initiated\",\n        required: true\n    },\n    status: {\n        type: String,\n        default: \"Pending\",\n        required: true\n    }\n}, {\n    timestamps: true\n});\nmongoose.models = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose.model(\"Order\", OrderSchema)); //export default mongoose.model.Appointment || mongoose.model(\"Appointment\", AppointmentSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbW9kZWxzL09yZGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFDQSxNQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsMEJBQVUsQ0FBQztBQUVwQyxNQUFNQyxXQUFXLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7SUFDcENDLElBQUksRUFBRTtRQUFDQyxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFFLElBQUk7S0FBQztJQUNwQ0MsS0FBSyxFQUFFO1FBQUNILElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3JDRyxPQUFPLEVBQUU7UUFBQ0wsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBRSxJQUFJO0tBQUM7SUFDdkNJLFdBQVcsRUFBRTtRQUFDTixJQUFJLEVBQUVDLE1BQU07UUFBRU0sT0FBTyxFQUFDLEVBQUU7S0FBQztJQUN2Q0MsU0FBUyxFQUFFO1FBQUNSLElBQUksRUFBRVMsTUFBTTtRQUFFUCxRQUFRLEVBQUUsSUFBSTtLQUFDO0lBQ3pDUSxPQUFPLEVBQUU7UUFBQ1YsSUFBSSxFQUFFQyxNQUFNO1FBQUVDLFFBQVEsRUFBQyxJQUFJO0tBQUM7SUFDdENTLGFBQWEsRUFBRTtRQUFDWCxJQUFJLEVBQUVDLE1BQU07UUFBRU0sT0FBTyxFQUFDLEVBQUU7S0FBQztJQUN6Q0ssS0FBSyxFQUFFO1FBQUNaLElBQUksRUFBRUMsTUFBTTtRQUFFQyxRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ3BDVyxZQUFZLEVBQUU7UUFBQ2IsSUFBSSxFQUFFSSxNQUFNO1FBQUVGLFFBQVEsRUFBQyxJQUFJO0tBQUM7SUFDM0NZLE1BQU0sRUFBRTtRQUFDZCxJQUFJLEVBQUVDLE1BQU07UUFBRUMsUUFBUSxFQUFDLElBQUk7S0FBQztJQUNyQ2EsR0FBRyxFQUFFO1FBQUNmLElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ2xDYyxNQUFNLEVBQUU7UUFBQ2hCLElBQUksRUFBRUksTUFBTTtRQUFFRixRQUFRLEVBQUMsSUFBSTtLQUFDO0lBQ3JDZSxNQUFNLEVBQUM7UUFBQ2pCLElBQUksRUFBRUMsTUFBTTtRQUFFTSxPQUFPLEVBQUMsV0FBVztRQUFFTCxRQUFRLEVBQUMsSUFBSTtLQUFDO0lBR3pEZSxNQUFNLEVBQUU7UUFBQ2pCLElBQUksRUFBRUMsTUFBTTtRQUFFTSxPQUFPLEVBQUUsU0FBUztRQUFHTCxRQUFRLEVBQUMsSUFBSTtLQUFDO0NBQzdELEVBQUU7SUFBQ2dCLFVBQVUsRUFBRSxJQUFJO0NBQUMsQ0FBRTtBQUV2QnZCLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxFQUFFO0FBQ3BCLGlFQUFleEIsUUFBUSxDQUFDeUIsS0FBSyxDQUFDLE9BQU8sRUFBRXZCLFdBQVcsQ0FBQyxFQUFDLENBQ3BELGdHQUFnRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BheW1lbnQvLi9zcmMvbW9kZWxzL09yZGVyLmpzPzcyZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IE9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwaG9uZToge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgb3JkZXJJZDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcGF5bWVudEluZm86IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6Jyd9LFxyXG4gICAgaG9zcGl0YWxzOiB7dHlwZTogT2JqZWN0LCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBhZGRyZXNzOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRyYW5zYWN0aW9uaWQ6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6XCJcIn0sXHJcbiAgICBlbWFpbDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhYWRoYXJudW1iZXI6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZ2VuZGVyOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGFnZToge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhbW91bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdHVzOnt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6J2luaXRpYXRlZCcsIHJlcXVpcmVkOnRydWV9LCBcclxuICAgIFxyXG4gICAgXHJcbiAgICBzdGF0dXM6IHt0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdQZW5kaW5nJyAsIHJlcXVpcmVkOnRydWV9LFxyXG59LCB7dGltZXN0YW1wczogdHJ1ZX0gKTtcclxuXHJcbm1vbmdvb3NlLm1vZGVscyA9IHt9XHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiT3JkZXJcIiwgT3JkZXJTY2hlbWEpO1xyXG4vL2V4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsLkFwcG9pbnRtZW50IHx8IG1vbmdvb3NlLm1vZGVsKFwiQXBwb2ludG1lbnRcIiwgQXBwb2ludG1lbnRTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiT3JkZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicGhvbmUiLCJOdW1iZXIiLCJvcmRlcklkIiwicGF5bWVudEluZm8iLCJkZWZhdWx0IiwiaG9zcGl0YWxzIiwiT2JqZWN0IiwiYWRkcmVzcyIsInRyYW5zYWN0aW9uaWQiLCJlbWFpbCIsImFhZGhhcm51bWJlciIsImdlbmRlciIsImFnZSIsImFtb3VudCIsInN0YXR1cyIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/models/Order.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/posttransaction.js":
/*!******************************************!*\
  !*** ./src/pages/api/posttransaction.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _models_Order__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/Order */ \"(api)/./src/models/Order.js\");\n/* harmony import */ var _models_Hospital__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/Hospital */ \"(api)/./src/models/Hospital.js\");\n/* harmony import */ var _middleware_mongoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../middleware/mongoose */ \"(api)/./src/middleware/mongoose.js\");\n/* harmony import */ var paytmchecksum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! paytmchecksum */ \"paytmchecksum\");\n/* harmony import */ var paytmchecksum__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(paytmchecksum__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst handler = async (req, res)=>{\n    let order;\n    // Validate paytm checksum -- [Pending]\n    var paytmChecksum = \"\";\n    var paytmParams = {};\n    const received_data = req.body;\n    for(var key in received_data){\n        if (key == \"CHECKSUMHASH\") {\n            paytmChecksum = received_data[key];\n        } else {\n            paytmParams[key] = received_data[key];\n        }\n    }\n    var isValidChecksum = paytmchecksum__WEBPACK_IMPORTED_MODULE_3___default().verifySignature(paytmParams, process.env.PAYTM_MKEY, paytmChecksum);\n    if (!isValidChecksum) {\n        res.status(500).send(\"Some Error Occured\");\n        return;\n    }\n    if (req.body.STATUS == \"TXN_SUCCESS\") {\n        order = await _models_Order__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOneAndUpdate({\n            orderId: req.body.ORDERID\n        }, {\n            status: \"Paid\",\n            paymentInfo: JSON.stringify(req.body),\n            transactionid: req.body.TXNID\n        });\n        let hospitals = order.hospitals;\n        for(let slug in hospitals){\n            console.log(hospitals[slug].qty);\n            await _models_Hospital__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n                slug: slug\n            }, {\n                $inc: {\n                    \"availableQty\": -hospitals[slug].qty\n                }\n            });\n        }\n    } else if (req.body.STATUS == \"PENDING\") {\n        order = await _models_Order__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOneAndUpdate({\n            orderId: req.body.ORDERID\n        }, {\n            status: \"Initiated\",\n            paymentInfo: JSON.stringify(req.body),\n            transactionid: req.body.TXNID\n        });\n    }\n    res.redirect(\"/order?clearCart=1&id=\" + order._id, 200);\n// res.status(200).json({ body: req.body })\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_mongoose__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(handler));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3Bvc3R0cmFuc2FjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0M7QUFDTTtBQUNLO0FBQ1A7QUFFMUMsTUFBTUksT0FBTyxHQUFHLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxHQUFLO0lBQ2xDLElBQUlDLEtBQUs7SUFFVCx1Q0FBdUM7SUFDdkMsSUFBSUMsYUFBYSxHQUFHLEVBQUU7SUFDdEIsSUFBSUMsV0FBVyxHQUFHLEVBQUU7SUFDcEIsTUFBTUMsYUFBYSxHQUFHTCxHQUFHLENBQUNNLElBQUk7SUFDOUIsSUFBSyxJQUFJQyxHQUFHLElBQUlGLGFBQWEsQ0FBRTtRQUM3QixJQUFJRSxHQUFHLElBQUksY0FBYyxFQUFFO1lBQ3pCSixhQUFhLEdBQUdFLGFBQWEsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7U0FDcEMsTUFDSTtZQUNISCxXQUFXLENBQUNHLEdBQUcsQ0FBQyxHQUFHRixhQUFhLENBQUNFLEdBQUcsQ0FBQyxDQUFDO1NBQ3ZDO0tBQ0Y7SUFFRCxJQUFJQyxlQUFlLEdBQUdWLG9FQUE2QixDQUFDTSxXQUFXLEVBQUVNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLEVBQUVULGFBQWEsQ0FBQztJQUN2RyxJQUFJLENBQUNLLGVBQWUsRUFBRTtRQUNwQlAsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUMxQyxPQUFNO0tBQ1A7SUFFRCxJQUFJZCxHQUFHLENBQUNNLElBQUksQ0FBQ1MsTUFBTSxJQUFJLGFBQWEsRUFBRTtRQUVwQ2IsS0FBSyxHQUFHLE1BQU1QLHNFQUFzQixDQUFDO1lBQUVzQixPQUFPLEVBQUVqQixHQUFHLENBQUNNLElBQUksQ0FBQ1ksT0FBTztTQUFFLEVBQUU7WUFBRUwsTUFBTSxFQUFFLE1BQU07WUFBRU0sV0FBVyxFQUFFQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ3JCLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO1lBQUVnQixhQUFhLEVBQUV0QixHQUFHLENBQUNNLElBQUksQ0FBQ2lCLEtBQUs7U0FBRSxDQUFDO1FBQzdKLElBQUlDLFNBQVMsR0FBR3RCLEtBQUssQ0FBQ3NCLFNBQVM7UUFDL0IsSUFBSyxJQUFJQyxJQUFJLElBQUlELFNBQVMsQ0FBRTtZQUMxQkUsT0FBTyxDQUFDQyxHQUFHLENBQUNILFNBQVMsQ0FBQ0MsSUFBSSxDQUFDLENBQUNHLEdBQUcsQ0FBQztZQUNoQyxNQUFNaEMseUVBQXlCLENBQUM7Z0JBQUU2QixJQUFJLEVBQUVBLElBQUk7YUFBRSxFQUFFO2dCQUFFSSxJQUFJLEVBQUU7b0JBQUUsY0FBYyxFQUFFLENBQUVMLFNBQVMsQ0FBQ0MsSUFBSSxDQUFDLENBQUNHLEdBQUc7aUJBQUU7YUFBRSxDQUFDO1NBQ3JHO0tBQ0YsTUFDSSxJQUFJNUIsR0FBRyxDQUFDTSxJQUFJLENBQUNTLE1BQU0sSUFBSSxTQUFTLEVBQUU7UUFDckNiLEtBQUssR0FBRyxNQUFNUCxzRUFBc0IsQ0FBQztZQUFFc0IsT0FBTyxFQUFFakIsR0FBRyxDQUFDTSxJQUFJLENBQUNZLE9BQU87U0FBRSxFQUFFO1lBQUVMLE1BQU0sRUFBRSxXQUFXO1lBQUVNLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUNyQixHQUFHLENBQUNNLElBQUksQ0FBQztZQUFFZ0IsYUFBYSxFQUFFdEIsR0FBRyxDQUFDTSxJQUFJLENBQUNpQixLQUFLO1NBQUUsQ0FBQztLQUVuSztJQUtEdEIsR0FBRyxDQUFDNkIsUUFBUSxDQUFDLHdCQUF3QixHQUFHNUIsS0FBSyxDQUFDNkIsR0FBRyxFQUFFLEdBQUcsQ0FBQztBQUt2RCwyQ0FBMkM7Q0FDNUM7QUFFRCxpRUFBZWxDLGdFQUFTLENBQUNFLE9BQU8sQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGF5bWVudC8uL3NyYy9wYWdlcy9hcGkvcG9zdHRyYW5zYWN0aW9uLmpzPzhmYTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9yZGVyIGZyb20gXCIuLi8uLi9tb2RlbHMvT3JkZXJcIlxyXG5pbXBvcnQgSG9zcGl0YWwgZnJvbSBcIi4uLy4uL21vZGVscy9Ib3NwaXRhbFwiXHJcbmltcG9ydCBjb25uZWN0RGIgZnJvbSBcIi4uLy4uL21pZGRsZXdhcmUvbW9uZ29vc2VcIlxyXG5pbXBvcnQgUGF5dG1DaGVja3N1bSBmcm9tIFwicGF5dG1jaGVja3N1bVwiO1xyXG5cclxuY29uc3QgaGFuZGxlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGxldCBvcmRlclxyXG5cclxuICAvLyBWYWxpZGF0ZSBwYXl0bSBjaGVja3N1bSAtLSBbUGVuZGluZ11cclxuICB2YXIgcGF5dG1DaGVja3N1bSA9IFwiXCI7XHJcbiAgdmFyIHBheXRtUGFyYW1zID0ge31cclxuICBjb25zdCByZWNlaXZlZF9kYXRhID0gcmVxLmJvZHlcclxuICBmb3IgKHZhciBrZXkgaW4gcmVjZWl2ZWRfZGF0YSkge1xyXG4gICAgaWYgKGtleSA9PSAnQ0hFQ0tTVU1IQVNIJykge1xyXG4gICAgICBwYXl0bUNoZWNrc3VtID0gcmVjZWl2ZWRfZGF0YVtrZXldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHBheXRtUGFyYW1zW2tleV0gPSByZWNlaXZlZF9kYXRhW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgaXNWYWxpZENoZWNrc3VtID0gUGF5dG1DaGVja3N1bS52ZXJpZnlTaWduYXR1cmUocGF5dG1QYXJhbXMsIHByb2Nlc3MuZW52LlBBWVRNX01LRVksIHBheXRtQ2hlY2tzdW0pO1xyXG4gIGlmICghaXNWYWxpZENoZWNrc3VtKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIlNvbWUgRXJyb3IgT2NjdXJlZFwiKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBpZiAocmVxLmJvZHkuU1RBVFVTID09ICdUWE5fU1VDQ0VTUycpIHtcclxuXHJcbiAgICBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRPbmVBbmRVcGRhdGUoeyBvcmRlcklkOiByZXEuYm9keS5PUkRFUklEIH0sIHsgc3RhdHVzOiAnUGFpZCcsIHBheW1lbnRJbmZvOiBKU09OLnN0cmluZ2lmeShyZXEuYm9keSksIHRyYW5zYWN0aW9uaWQ6IHJlcS5ib2R5LlRYTklEIH0pXHJcbiAgICBsZXQgaG9zcGl0YWxzID0gb3JkZXIuaG9zcGl0YWxzXHJcbiAgICBmb3IgKGxldCBzbHVnIGluIGhvc3BpdGFscykge1xyXG4gICAgICBjb25zb2xlLmxvZyhob3NwaXRhbHNbc2x1Z10ucXR5KVxyXG4gICAgICBhd2FpdCBIb3NwaXRhbC5maW5kT25lQW5kVXBkYXRlKHsgc2x1Zzogc2x1ZyB9LCB7ICRpbmM6IHsgXCJhdmFpbGFibGVRdHlcIjogLSBob3NwaXRhbHNbc2x1Z10ucXR5IH0gfSlcclxuICAgIH1cclxuICB9XHJcbiAgZWxzZSBpZiAocmVxLmJvZHkuU1RBVFVTID09ICdQRU5ESU5HJykge1xyXG4gICAgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lQW5kVXBkYXRlKHsgb3JkZXJJZDogcmVxLmJvZHkuT1JERVJJRCB9LCB7IHN0YXR1czogJ0luaXRpYXRlZCcsIHBheW1lbnRJbmZvOiBKU09OLnN0cmluZ2lmeShyZXEuYm9keSksIHRyYW5zYWN0aW9uaWQ6IHJlcS5ib2R5LlRYTklEIH0pXHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbiAgcmVzLnJlZGlyZWN0KCcvb3JkZXI/Y2xlYXJDYXJ0PTEmaWQ9JyArIG9yZGVyLl9pZCwgMjAwKVxyXG5cclxuXHJcblxyXG5cclxuICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7IGJvZHk6IHJlcS5ib2R5IH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REYihoYW5kbGVyKTtcclxuIl0sIm5hbWVzIjpbIk9yZGVyIiwiSG9zcGl0YWwiLCJjb25uZWN0RGIiLCJQYXl0bUNoZWNrc3VtIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVyIiwicGF5dG1DaGVja3N1bSIsInBheXRtUGFyYW1zIiwicmVjZWl2ZWRfZGF0YSIsImJvZHkiLCJrZXkiLCJpc1ZhbGlkQ2hlY2tzdW0iLCJ2ZXJpZnlTaWduYXR1cmUiLCJwcm9jZXNzIiwiZW52IiwiUEFZVE1fTUtFWSIsInN0YXR1cyIsInNlbmQiLCJTVEFUVVMiLCJmaW5kT25lQW5kVXBkYXRlIiwib3JkZXJJZCIsIk9SREVSSUQiLCJwYXltZW50SW5mbyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2FjdGlvbmlkIiwiVFhOSUQiLCJob3NwaXRhbHMiLCJzbHVnIiwiY29uc29sZSIsImxvZyIsInF0eSIsIiRpbmMiLCJyZWRpcmVjdCIsIl9pZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/posttransaction.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/posttransaction.js"));
module.exports = __webpack_exports__;

})();